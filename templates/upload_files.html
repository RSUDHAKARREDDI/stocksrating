{% extends "layout.html" %}
{% block content %}

<style>
  /* full-width centering wrapper */
  .center-wrap {
    width: 100%;
    display: flex;
    justify-content: center;   /* center horizontally */
    padding: 24px 12px;
  }
  /* inner card */
  .files-card {
    width: min(960px, 96vw);
    background: #fff;
    border: 1px solid #eee;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.06);
    padding: 20px;
  }
  .files-card h2 {
    margin: 0 0 14px;
    text-align: center;
  }
  /* form alignment */
  .upload-form {
    display: flex;
    gap: 10px;
    align-items: center;
    justify-content: center;   /* center the form elements */
    margin-bottom: 16px;
    flex-wrap: wrap;
  }
  /* table styling */
  .table-wrap {
    overflow: auto;
    border: 1px solid #eee;
    border-radius: 10px;
  }
  table.files-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 640px; /* allow scroll on small screens */
    font-size: 14px;
  }
  .files-table th, .files-table td {
    padding: 10px 12px;
    border-bottom: 1px solid #f0f0f0;
    text-align: left;
  }
  .files-table thead th {
    background: #f7f7f7;
    border-bottom: 1px solid #eaeaea;
    position: sticky;
    top: 0;
    z-index: 1;
  }
  .files-table tr:nth-child(even) td { background: #fafafa; }
  .files-table tr:hover td { background: #eef6ff; }
  .empty-state {
    text-align: center;
    color: #666;
    padding: 16px 0 4px;
  }
</style>

<div class="center-wrap">
  <div class="files-card">
    <h2>ðŸ“‚ Uploaded Files</h2>

    <!-- Upload form on top -->
    <form method="post" enctype="multipart/form-data" class="upload-form">
      <input type="file" name="file">
      <button type="submit">Upload</button>
    </form>

    <!-- Files list below -->
    {% if files %}
      <div class="table-wrap">
        <table class="files-table">
          <thead>
            <tr>
              <th>File Path</th>
              <th>Filename</th>
              <th>Last Modified</th>
            </tr>
          </thead>
          <tbody>
            {% for file in files %}
            <tr>
              <td>{{ file.folder }}</td>
              <td>{{ file.name }}</td>
              <td>{{ file.last_modified }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="empty-state">No files found.</p>
    {% endif %}
  </div>
</div>

{% endblock %}
