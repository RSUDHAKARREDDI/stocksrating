{% extends "layout.html" %}
{% block title %}52 Week High/Low Analysis{% endblock %}

{% block content %}
<div class="container" style="margin-top: 20px; font-family: 'Segoe UI', sans-serif;">
    <h2 style="margin-bottom: 20px;">52 Week High / Low Report</h2>

    <div style="background:#fff; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,.06); padding:20px; overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse; text-align: left;">
            <thead>
                <tr style="background: #f8f9fa; border-bottom: 2px solid #dee2e6;">
                    <th style="padding: 12px;">Symbol</th>
                    <th style="padding: 12px;">Date</th>
                    <th style="padding: 12px;">Current Price</th>
                    <th style="padding: 12px;">52W High</th>
                    <th style="padding: 12px;">Distance from High</th>
                    <th style="padding: 12px;">52W Low</th>
                    <th style="padding: 12px;">Distance from Low</th>
                </tr>
            </thead>
            <tbody>
                {% for row in rows %}
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px; font-weight: bold;">{{ row.SYMBOL }}</td>
                    <td style="padding: 12px;">{{ row.DATE1_STR }}</td>
                    <td style="padding: 12px;">{{ row.LAST_PRICE }}</td>
                    <td style="padding: 12px; color: #28a745;">{{ row.Adjusted_52_Week_High }}</td>
                    <td style="padding: 12px; color: #dc3545; font-weight: bold;">
                        {{ row.pct_from_high }}%
                    </td>
                    <td style="padding: 12px; color: #dc3545;">{{ row.Adjusted_52_Week_Low }}</td>
                    <td style="padding: 12px; color: #28a745; font-weight: bold;">
                        +{{ row.pct_from_low }}%
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}